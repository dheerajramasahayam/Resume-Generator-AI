<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - Resume Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}"> <!-- Use app static -->
</head>
<body>
    <nav class="navbar">
        <div class="container nav-container">
            <span class="nav-brand">ResumeGen</span>
            <ul class="nav-links">
                <li><a href="/profile" class="active">My Profile</a></li>
                <li><a href="/generate_page">Generate Resume</a></li>
                <li><a href="/auth/logout">Logout</a></li>
            </ul>
        </div>
    </nav>

    <div class="container profile-container">
        <h1>My Profile</h1>
        <p>Welcome, <span id="username-display">User</span>!</p> <!-- JS will update this -->
        <p>Fill out or update your professional details below.</p>

        <form id="profile-form">
            <!-- Personal Information Section -->
            <fieldset>
                <legend>Personal Information</legend>
                <div class="form-group">
                    <label for="full_name">Full Name</label>
                    <input type="text" id="full_name" name="full_name">
                </div>
                <div class="form-group">
                    <label for="phone_number">Phone Number</label>
                    <input type="tel" id="phone_number" name="phone_number">
                </div>
                <div class="form-group">
                    <label for="email_address">Email Address</label>
                    <input type="email" id="email_address" name="email_address">
                </div>
                <div class="form-group">
                    <label for="linkedin_url">LinkedIn Profile URL</label>
                    <input type="url" id="linkedin_url" name="linkedin_url">
                </div>
                <div class="form-group">
                    <label for="portfolio_url">Portfolio/Website URL</label>
                    <input type="url" id="portfolio_url" name="portfolio_url">
                </div>
                <div class="form-group">
                    <label for="location">Location (City, State)</label>
                    <input type="text" id="location" name="location">
                </div>
                 <div class="form-group">
                    <label for="target_job">Target Job Title / Role Summary Hint</label>
                    <input type="text" id="target_job" name="target_job" placeholder="e.g., Senior Software Engineer, Marketing Manager">
                </div>
            </fieldset>

            <!-- Work Experience Section -->
            <fieldset id="experience-section">
                <legend>Work Experience</legend>
                <div id="experience-entries">
                    <!-- Experience entries will be added here by JS -->
                </div>
                <button type="button" id="add-experience" class="btn btn-secondary">Add Experience</button>
            </fieldset>

            <!-- Education Section -->
            <fieldset id="education-section">
                <legend>Education</legend>
                <div id="education-entries">
                    <!-- Education entries will be added here by JS -->
                </div>
                <button type="button" id="add-education" class="btn btn-secondary">Add Education</button>
            </fieldset>

            <!-- Skills Section -->
            <fieldset id="skills-section">
                <legend>Skills</legend>
                 <div class="form-group">
                    <label for="skills-input">Skills (comma-separated or add one by one)</label>
                    <input type="text" id="new-skill-input" placeholder="Enter a skill">
                    <button type="button" id="add-skill-btn" class="btn btn-sm btn-secondary">Add Skill</button>
                 </div>
                <ul id="skills-list">
                    <!-- Skills will be listed here -->
                </ul>
            </fieldset>

            <!-- Projects Section -->
            <fieldset id="projects-section">
                <legend>Projects</legend>
                <div id="project-entries">
                    <!-- Project entries will be added here by JS -->
                </div>
                <button type="button" id="add-project" class="btn btn-secondary">Add Project</button>
            </fieldset>

            <div class="form-actions">
                <button type="submit" id="save-profile" class="btn">Save Profile</button>
                <div id="save-status" class="status-message"></div>
            </div>
        </form>
    </div>

    <!-- Templates for dynamic entries -->
    <template id="experience-template">
        <div class="experience-entry dynamic-entry">
            <div class="form-group">
                <label>Job Title</label>
                <input type="text" name="exp_job_title" required>
            </div>
            <div class="form-group">
                <label>Company Name</label>
                <input type="text" name="exp_company_name">
            </div>
            <div class="form-group">
                <label>Location</label>
                <input type="text" name="exp_location">
            </div>
            <div class="form-group">
                <label>Start Date</label>
                <input type="text" name="exp_start_date" placeholder="e.g., Jan 2020">
            </div>
            <div class="form-group">
                <label>End Date</label>
                <input type="text" name="exp_end_date" placeholder="e.g., Present or Dec 2022">
            </div>
            <div class="form-group">
                <label>Description (Responsibilities/Achievements)</label>
                <textarea name="exp_description" rows="4"></textarea>
            </div>
            <button type="button" class="btn btn-danger btn-sm remove-entry">Remove</button>
            <hr>
        </div>
    </template>

    <template id="education-template">
        <div class="education-entry dynamic-entry">
            <div class="form-group">
                <label>Degree Name</label>
                <input type="text" name="edu_degree_name" required>
            </div>
            <div class="form-group">
                <label>Major/Field of Study</label>
                <input type="text" name="edu_major">
            </div>
            <div class="form-group">
                <label>Institution Name</label>
                <input type="text" name="edu_institution_name">
            </div>
            <div class="form-group">
                <label>Location</label>
                <input type="text" name="edu_location">
            </div>
            <div class="form-group">
                <label>Graduation Date</label>
                <input type="text" name="edu_graduation_date" placeholder="e.g., May 2018 or Expected Dec 2024">
            </div>
            <button type="button" class="btn btn-danger btn-sm remove-entry">Remove</button>
            <hr>
        </div>
    </template>

     <template id="skill-template">
        <li class="skill-item">
            <span class="skill-name"></span>
            <button type="button" class="btn btn-danger btn-sm remove-skill">&times;</button>
        </li>
    </template>

    <template id="project-template">
        <div class="project-entry dynamic-entry">
            <div class="form-group">
                <label>Project Name</label>
                <input type="text" name="proj_project_name" required>
            </div>
            <div class="form-group">
                <label>Description</label>
                <textarea name="proj_description" rows="3"></textarea>
            </div>
            <div class="form-group">
                <label>Link (Optional)</label>
                <input type="url" name="proj_link">
            </div>
            <button type="button" class="btn btn-danger btn-sm remove-entry">Remove</button>
            <hr>
        </div>
    </template>

    <script src="{{ url_for('static', filename='profile.js') }}"></script> <!-- Use app static -->
</body>
</html>
